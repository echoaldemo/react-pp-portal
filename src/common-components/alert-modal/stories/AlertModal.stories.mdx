import { Meta, Story, Preview } from '@storybook/addon-docs/blocks'
import { AlertModal, SaveButton as Button } from 'common-components'
import { useState } from '@storybook/addons'
const style={background: '#7c8a97'}

<Meta title="MDX|Alert Modal" component={AlertModal} />

### Alert Modal


```
import { AlertModal } from 'common-components'
```

## Loading

<Preview>
  <Story name="default">
    {() => {
      const [open, setOpen] = useState(false)
      const handleCancel = () => setOpen(!open)
      
      return (
        <>
          <Button style={style} onClick={() => setOpen(true)}>Open Modal</Button>
          <AlertModal
            open={open}
            severity={'loading'}
            text={'One moment. We’re removing the campaign…'}
            cancelFn={() => setOpen(!open)}
          />
        </>
      )
    }}
  </Story>
</Preview>

## Info

<Preview>
  <Story name="Info">
    {() => {
      const [open, setOpen] = useState(false)
      const handleCancel = () => setOpen(!open)
      
      return (
        <>
          <Button style={style} onClick={() => setOpen(true)}>Open Modal</Button>
          <AlertModal
            open={open}
            severity={'info'}
            text={'Informative text for example…'}
            cancelFn={() => setOpen(!open)}
          />
        </>
      )
    }}
  </Story>
</Preview>

## Error

<Preview>
  <Story name="Error">
    {() => {
      const [open, setOpen] = useState(false)
      const handleCancel = () => setOpen(!open)
      
      return (
        <>
          <Button style={style} onClick={() => setOpen(true)}>Open Modal</Button>
          <AlertModal
            open={open}
            severity={'error'}
            text={'Something is wrong...'}
            cancelFn={() => setOpen(!open)}
          />
        </>
      )
    }}
  </Story>
</Preview>

## Success

<Preview>
  <Story name="Success">
    {() => {
      const [open, setOpen] = useState(false)
      const handleCancel = () => setOpen(!open)
      
      return (
        <>
          <Button style={style} onClick={() => setOpen(true)}>Open Modal</Button>
          <AlertModal
            open={open}
            severity={'success'}
            text={'Operation was completed succefully!'}
            cancelFn={() => setOpen(!open)}
          />
        </>
      )
    }}
  </Story>
</Preview>

### Props

| Name     | Type     | Default  | Description                                                    |
| -------- | -------- | -------- | -----------------                                              |
| open     | boolean  | required | to open the modal                                              |
| severity | string   | required | severity of the alert                                          |
| message  | string   | required | alert message                                                  |
| showBtn  | boolean  |          | show button for default, if false don't show button            |
| textBtn  | string   |          | set custom text for button label, default 'Cancel'             |
| cancelFn | function | required | cancel function                                                |

